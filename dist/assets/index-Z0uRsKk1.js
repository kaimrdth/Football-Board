import{r as Ee,a as Ae,R as p}from"./vendor-nf7bT_Uh.js";import{u as he,a as De,b as ie,D as Ie,c as ze,T as Me,P as We}from"./dnd-uZAB4MAk.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();var ve={exports:{}},B={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Be=Ee,Le=Symbol.for("react.element"),$e=Symbol.for("react.fragment"),He=Object.prototype.hasOwnProperty,Ue=Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ye={key:!0,ref:!0,__self:!0,__source:!0};function Se(e,t,r){var n,a={},l=null,c=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(c=t.ref);for(n in t)He.call(t,n)&&!Ye.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Le,type:e,key:l,ref:c,props:a,_owner:Ue.current}}B.Fragment=$e;B.jsx=Se;B.jsxs=Se;ve.exports=B;var o=ve.exports,X={},le=Ae;X.createRoot=le.createRoot,X.hydrateRoot=le.hydrateRoot;const ce=e=>{let t;const r=new Set,n=(x,i)=>{const s=typeof x=="function"?x(t):x;if(!Object.is(s,t)){const u=t;t=i??(typeof s!="object"||s===null)?s:Object.assign({},t,s),r.forEach(m=>m(t,u))}},a=()=>t,d={setState:n,getState:a,getInitialState:()=>f,subscribe:x=>(r.add(x),()=>r.delete(x))},f=t=e(n,a,d);return d},Ke=e=>e?ce(e):ce,Xe=e=>e;function Je(e,t=Xe){const r=p.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return p.useDebugValue(r),r}const Ge=e=>{const t=Ke(e),r=n=>Je(t,n);return Object.assign(r,t),r},qe=e=>Ge;var Ce=Symbol.for("immer-nothing"),de=Symbol.for("immer-draftable"),C=Symbol.for("immer-state");function _(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var R=Object.getPrototypeOf;function E(e){return!!e&&!!e[C]}function T(e){var t;return e?je(e)||Array.isArray(e)||!!e[de]||!!((t=e.constructor)!=null&&t[de])||$(e)||H(e):!1}var Qe=Object.prototype.constructor.toString();function je(e){if(!e||typeof e!="object")return!1;const t=R(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Qe}function z(e,t){L(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function L(e){const t=e[C];return t?t.type_:Array.isArray(e)?1:$(e)?2:H(e)?3:0}function J(e,t){return L(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function we(e,t,r){const n=L(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Ze(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function $(e){return e instanceof Map}function H(e){return e instanceof Set}function P(e){return e.copy_||e.base_}function G(e,t){if($(e))return new Map(e);if(H(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=je(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[C];let a=Reflect.ownKeys(n);for(let l=0;l<a.length;l++){const c=a[l],d=n[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(R(e),n)}else{const n=R(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function re(e,t=!1){return U(e)||E(e)||!T(e)||(L(e)>1&&(e.set=e.add=e.clear=e.delete=Ve),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>re(n,!0))),e}function Ve(){_(2)}function U(e){return Object.isFrozen(e)}var et={};function F(e){const t=et[e];return t||_(0,e),t}var D;function _e(){return D}function tt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ue(e,t){t&&(F("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function q(e){Q(e),e.drafts_.forEach(ot),e.drafts_=null}function Q(e){e===D&&(D=e.parent_)}function fe(e){return D=tt(D,e)}function ot(e){const t=e[C];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pe(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[C].modified_&&(q(t),_(4)),T(e)&&(e=M(t,e),t.parent_||W(t,e)),t.patches_&&F("Patches").generateReplacementPatches_(r[C].base_,e,t.patches_,t.inversePatches_)):e=M(t,r,[]),q(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ce?e:void 0}function M(e,t,r){if(U(t))return t;const n=t[C];if(!n)return z(t,(a,l)=>xe(e,n,t,a,l,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return W(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let l=a,c=!1;n.type_===3&&(l=new Set(a),a.clear(),c=!0),z(l,(d,f)=>xe(e,n,a,d,f,r,c)),W(e,a,!1),r&&e.patches_&&F("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function xe(e,t,r,n,a,l,c){if(E(a)){const d=l&&t&&t.type_!==3&&!J(t.assigned_,n)?l.concat(n):void 0,f=M(e,a,d);if(we(r,n,f),E(f))e.canAutoFreeze_=!1;else return}else c&&r.add(a);if(T(a)&&!U(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;M(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&W(e,a)}}function W(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&re(t,r)}function rt(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:_e(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,l=ne;r&&(a=[n],l=I);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return n.draft_=d,n.revoke_=c,d}var ne={get(e,t){if(t===C)return e;const r=P(e);if(!J(r,t))return nt(e,r,t);const n=r[t];return e.finalized_||!T(n)?n:n===Y(e.base_,t)?(K(e),e.copy_[t]=V(n,e)):n},has(e,t){return t in P(e)},ownKeys(e){return Reflect.ownKeys(P(e))},set(e,t,r){const n=ke(P(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Y(P(e),t),l=a==null?void 0:a[C];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Ze(r,a)&&(r!==void 0||J(e.base_,t)))return!0;K(e),Z(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Y(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,K(e),Z(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=P(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){_(11)},getPrototypeOf(e){return R(e.base_)},setPrototypeOf(){_(12)}},I={};z(ne,(e,t)=>{I[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});I.deleteProperty=function(e,t){return I.set.call(this,e,t,void 0)};I.set=function(e,t,r){return ne.set.call(this,e[0],t,r,e[0])};function Y(e,t){const r=e[C];return(r?P(r):e)[t]}function nt(e,t,r){var a;const n=ke(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function ke(e,t){if(!(t in e))return;let r=R(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=R(r)}}function Z(e){e.modified_||(e.modified_=!0,e.parent_&&Z(e.parent_))}function K(e){e.copy_||(e.copy_=G(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var at=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const c=this;return function(f=l,...x){return c.produce(f,i=>r.call(this,i,...x))}}typeof r!="function"&&_(6),n!==void 0&&typeof n!="function"&&_(7);let a;if(T(t)){const l=fe(this),c=V(t,void 0);let d=!0;try{a=r(c),d=!1}finally{d?q(l):Q(l)}return ue(l,n),pe(a,l)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Ce&&(a=void 0),this.autoFreeze_&&re(a,!0),n){const l=[],c=[];F("Patches").generateReplacementPatches_(t,a,l,c),n(l,c)}return a}else _(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let n,a;return[this.produce(t,r,(c,d)=>{n=c,a=d}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){T(e)||_(8),E(e)&&(e=st(e));const t=fe(this),r=V(e,void 0);return r[C].isManual_=!0,Q(t),r}finishDraft(e,t){const r=e&&e[C];(!r||!r.isManual_)&&_(9);const{scope_:n}=r;return ue(n,t),pe(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=F("Patches").applyPatches_;return E(e)?n(e,t):this.produce(e,a=>n(a,t))}};function V(e,t){const r=$(e)?F("MapSet").proxyMap_(e,t):H(e)?F("MapSet").proxySet_(e,t):rt(e,t);return(t?t.scope_:_e()).drafts_.push(r),r}function st(e){return E(e)||_(10,e),Ne(e)}function Ne(e){if(!T(e)||U(e))return e;const t=e[C];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=G(e,t.scope_.immer_.useStrictShallowCopy_)}else r=G(e,!0);return z(r,(n,a)=>{we(r,n,Ne(a))}),t&&(t.finalized_=!1),r}var j=new at,it=j.produce;j.produceWithPatches.bind(j);j.setAutoFreeze.bind(j);j.setUseStrictShallowCopy.bind(j);j.applyPatches.bind(j);j.createDraft.bind(j);j.finishDraft.bind(j);const lt=e=>(t,r,n)=>(n.setState=(a,l,...c)=>{const d=typeof a=="function"?it(a):a;return t(d,l,...c)},e(n.setState,r,n)),ct=lt,dt=e=>(t,r,n)=>{const a=n.subscribe;return n.subscribe=(c,d,f)=>{let x=c;if(d){const i=(f==null?void 0:f.equalityFn)||Object.is;let s=c(n.getState());x=u=>{const m=c(u);if(!i(s,m)){const y=s;d(s=m,y)}},f!=null&&f.fireImmediately&&d(s,s)}return a(x)},e(t,r,n)},ut=dt,ee={"4-4-2":[{x:5,y:50},{x:20,y:20},{x:20,y:40},{x:20,y:60},{x:20,y:80},{x:45,y:20},{x:35,y:40},{x:35,y:60},{x:45,y:80},{x:65,y:40},{x:65,y:60}],"4-3-3":[{x:5,y:50},{x:20,y:20},{x:20,y:40},{x:20,y:60},{x:20,y:80},{x:40,y:25},{x:40,y:50},{x:40,y:75},{x:65,y:25},{x:65,y:50},{x:65,y:75}],"3-5-2":[{x:5,y:50},{x:20,y:30},{x:20,y:50},{x:20,y:70},{x:40,y:15},{x:40,y:35},{x:40,y:50},{x:40,y:65},{x:40,y:85},{x:65,y:40},{x:65,y:60}],"5-3-2":[{x:5,y:50},{x:20,y:15},{x:20,y:35},{x:20,y:50},{x:20,y:65},{x:20,y:85},{x:45,y:30},{x:45,y:50},{x:45,y:70},{x:65,y:40},{x:65,y:60}],"4-2-3-1":[{x:5,y:50},{x:20,y:20},{x:20,y:40},{x:20,y:60},{x:20,y:80},{x:35,y:35},{x:35,y:65},{x:50,y:20},{x:50,y:50},{x:50,y:80},{x:70,y:50}]},me=800,ye=520;function be(){const e=[],t=ee["4-4-2"];for(let n=0;n<11;n++){const a=t[n];e.push({id:`player_red_${n+1}`,number:n+1,name:`Player ${n+1}`,color:"rgba(255, 68, 68, 0.8)",team:"red",position:{x:a.x/100*(me-25),y:a.y/100*(ye-25)}})}const r=ee["4-3-3"];for(let n=0;n<11;n++){const a=r[n];e.push({id:`player_blue_${n+1}`,number:n+1,name:`Player ${n+1}`,color:"rgba(68, 68, 255, 0.8)",team:"blue",position:{x:(100-a.x)/100*(me-25),y:a.y/100*(ye-25)}})}return e}function ft(e){return{"4-4-2":"4-4-2 Classic","4-3-3":"4-3-3 Attack","3-5-2":"3-5-2 Wing Play","5-3-2":"5-3-2 Defensive","4-2-3-1":"4-2-3-1 Balanced"}[e]}const O=800,A=520,g=qe()(ut(ct(e=>({players:be(),ball:{position:{x:O/2-7.5,y:A/2-7.5}},selectedPlayer:null,updatePlayerPosition:(t,r)=>e(n=>{const a=n.players.find(l=>l.id===t);a&&(a.position=r)}),updateBallPosition:t=>e(r=>{r.ball.position=t}),updatePlayer:(t,r)=>e(n=>{const a=n.players.find(l=>l.id===t);a&&Object.assign(a,r)}),selectPlayer:t=>e(r=>{r.selectedPlayer=t}),setFormation:(t,r)=>e(n=>{const a=n.players.filter(c=>c.team===t),l=ee[r];for(let c=0;c<Math.min(a.length,l.length);c++){const d=a[c],f=l[c];t==="red"?d.position={x:f.x/100*(O-25),y:f.y/100*(A-25)}:d.position={x:(100-f.x)/100*(O-25),y:f.y/100*(A-25)}}}),switchSides:()=>e(t=>{t.players.forEach(r=>{r.position.x=O-r.position.x-25})}),resetBall:()=>e(t=>{t.ball.position={x:O/2-7.5,y:A/2-7.5}}),clearAll:()=>e(t=>{t.players=[],t.selectedPlayer=null}),resetFormations:()=>e(t=>{t.players=be(),t.selectedPlayer=null,t.ball.position={x:O/2-7.5,y:A/2-7.5}}),clearAllPlayerNames:()=>e(t=>{t.players.forEach(r=>{r.name=`Player ${r.number}`})})})))),pt=()=>g(e=>e.players),xt=()=>g(e=>e.ball);function ge(e,t=25,r=25,n=800,a=520){return{x:Math.max(0,Math.min(e.x,n-t)),y:Math.max(0,Math.min(e.y,a-r))}}const ae=p.memo(({player:e,isDragging:t=!1,style:r})=>{const n=g(S=>S.selectPlayer),a=g(S=>S.selectedPlayer),l=(a==null?void 0:a.id)===e.id,[c,d]=p.useState(0),f=p.useRef(null),x={type:"player",id:e.id},{attributes:i,listeners:s,setNodeRef:u,transform:m,isDragging:y}=he({id:e.id,data:x,disabled:t}),h=p.useCallback(S=>{S.stopPropagation(),d(k=>k+1),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{c+1>=2&&n(e),d(0)},300)},[e,n,c]);p.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const v=m?{transform:`translate3d(${m.x}px, ${m.y}px, 0) scale(1.1)`,willChange:"transform"}:void 0,b=e.team==="red"?"var(--secondary-neon)":"var(--accent-cyan)",w=e.team==="red"?"var(--error-red)":"var(--primary-neon)";return o.jsxs("div",{ref:u,style:{position:"absolute",left:t?0:e.position.x,top:t?0:e.position.y,width:"28px",height:"28px",cursor:"move",zIndex:y||t?1e3:10,transition:"none",userSelect:"none",touchAction:"none",...v,...r},onClick:h,...s,...i,children:[o.jsx("div",{className:"player-neo w-full h-full flex items-center justify-center animate-pulse",style:{background:`conic-gradient(from 0deg, ${b}, ${w}, ${b})`,border:l?"3px solid var(--warning-orange)":"2px solid var(--text-primary)",boxShadow:l?"0 0 20px var(--warning-orange), inset 0 0 10px rgba(255, 255, 255, 0.2)":`0 0 15px ${b}, inset 0 0 10px rgba(255, 255, 255, 0.2)`,animationDelay:`${e.number*.1}s`},children:o.jsx("span",{className:"font-mono font-bold neon-glow",style:{fontSize:"11px",color:"var(--text-primary)",textShadow:"0 0 8px var(--text-primary)",position:"relative",zIndex:2},children:e.number})}),o.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 rounded-full animate-pulse",style:{background:w,boxShadow:`0 0 6px ${w}`,animationDelay:`${e.number*.15}s`}}),o.jsx("div",{className:"absolute font-mono",style:{top:"100%",left:"50%",transform:"translateX(-50%)",marginTop:"6px",fontSize:"9px",whiteSpace:"nowrap",color:b,fontWeight:"700",pointerEvents:"none",textShadow:`0 0 6px ${b}`,opacity:y||t?0:.9,transition:"none",letterSpacing:"0.05em",textTransform:"uppercase"},children:e.name}),l&&o.jsx("div",{className:"absolute inset-0 rounded-full animate-pulse",style:{background:"transparent",border:"2px solid var(--warning-orange)",boxShadow:"0 0 25px var(--warning-orange)",transform:"scale(1.4)",pointerEvents:"none"}})]})});ae.displayName="Player";const se=p.memo(({ball:e,isDragging:t=!1,style:r})=>{const n={type:"ball",id:"ball"},{attributes:a,listeners:l,setNodeRef:c,transform:d,isDragging:f}=he({id:"ball",data:n,disabled:t}),x=d?{transform:`translate3d(${d.x}px, ${d.y}px, 0) scale(1.2)`,willChange:"transform"}:void 0;return o.jsxs("div",{ref:c,style:{position:"absolute",left:t?0:e.position.x,top:t?0:e.position.y,width:"18px",height:"18px",cursor:"move",zIndex:f||t?1e3:15,transition:"none",userSelect:"none",touchAction:"none",...x,...r},...l,...a,children:[o.jsxs("div",{className:"ball-neo w-full h-full rounded-full animate-pulse",style:{background:"radial-gradient(circle at 25% 25%, #ffffff, #f0f0f0, #d0d0d0)",border:"2px solid var(--primary-neon)",boxShadow:`
            0 0 15px rgba(0, 255, 65, 0.8),
            0 4px 8px rgba(0, 0, 0, 0.3),
            inset 0 1px 0 rgba(255, 255, 255, 0.6)
          `,position:"relative"},children:[o.jsx("div",{className:"absolute inset-1 rounded-full",style:{background:"radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.8), transparent 60%)",pointerEvents:"none"}}),o.jsx("div",{className:"absolute inset-0 rounded-full animate-spin",style:{border:"1px solid transparent",borderTop:"1px solid var(--primary-neon)",borderRight:"1px solid var(--accent-cyan)",animationDuration:"3s",opacity:.6}})]}),(f||t)&&o.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"radial-gradient(circle, var(--primary-neon) 0%, transparent 70%)",transform:"scale(2)",opacity:.3,pointerEvents:"none",animation:"pulse 0.5s ease-in-out infinite"}})]})});se.displayName="Ball";function mt({children:e}){const[t,r]=p.useState(null),[n,a]=p.useState(null),l=g(m=>m.updatePlayerPosition),c=g(m=>m.updateBallPosition),d=g(m=>m.players),f=g(m=>m.ball),x=De(ie(We,{activationConstraint:{distance:8}}),ie(Me,{activationConstraint:{delay:0,tolerance:5}})),i=m=>{const{active:y}=m,h=y.data.current;r(y.id),a(h.type)},s=p.useCallback(m=>{const{active:y,delta:h}=m,v=y.data.current;if(v){if(v.type==="player"){const b=d.find(w=>w.id===v.id);if(b){const w=ge({x:b.position.x+h.x,y:b.position.y+h.y});l(v.id,w)}}else if(v.type==="ball"){const b=ge({x:f.position.x+h.x,y:f.position.y+h.y},15,15);c(b)}r(null),a(null)}},[d,f,l,c]),u=()=>{if(!t||!n)return null;if(n==="player"){const m=d.find(y=>y.id===t);return m?o.jsx(ae,{player:m,isDragging:!0,style:{opacity:.9}}):null}return n==="ball"?o.jsx(se,{ball:f,isDragging:!0,style:{opacity:.9}}):null};return o.jsxs(Ie,{sensors:x,onDragStart:i,onDragEnd:s,children:[e,o.jsx(ze,{dropAnimation:{duration:0,easing:"linear"},children:u()})]})}const Pe=p.memo(()=>{const e=pt(),t=xt();return o.jsxs("div",{className:"neo-brutalist-panel p-8 overflow-hidden mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 text-xs font-mono",style:{color:"var(--text-secondary)"},children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{children:"GRID: ACTIVE"}),o.jsx("span",{children:"RESOLUTION: 800x520"}),o.jsx("span",{children:"MODE: TACTICAL"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-1 h-1 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{children:"LIVE"})]})]}),o.jsxs("div",{className:"relative mx-auto pitch-neo overflow-hidden",style:{width:800,height:520},children:[o.jsx(Te,{}),e.map(r=>o.jsx(ae,{player:r},r.id)),o.jsx(se,{ball:t})]}),o.jsx("div",{className:"flex justify-center mt-6 text-xs font-mono opacity-60",children:o.jsx("span",{style:{color:"var(--primary-neon)"},children:"DRAG & DROP TO REPOSITION • DOUBLE-CLICK TO EDIT"})})]})}),Te=p.memo(()=>o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute top-0 w-0.5 h-full animate-pulse",style:{left:"50%",transform:"translateX(-50%)",background:"linear-gradient(to bottom, var(--primary-neon), rgba(0, 255, 65, 0.3), var(--primary-neon))",boxShadow:"0 0 10px var(--primary-neon)"}}),o.jsx("div",{className:"absolute left-0 w-full h-0.5 animate-pulse",style:{top:"50%",transform:"translateY(-50%)",background:"linear-gradient(to right, var(--primary-neon), rgba(0, 255, 65, 0.3), var(--primary-neon))",boxShadow:"0 0 10px var(--primary-neon)",animationDelay:"0.5s"}}),o.jsx("div",{className:"absolute rounded-full animate-pulse",style:{top:"50%",left:"50%",width:140,height:140,transform:"translate(-50%, -50%)",border:"2px solid var(--primary-neon)",boxShadow:"0 0 15px rgba(0, 255, 65, 0.4), inset 0 0 15px rgba(0, 255, 65, 0.1)",animationDelay:"1s"}}),o.jsx("div",{className:"absolute w-2 h-2 rounded-full animate-pulse",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"var(--accent-cyan)",boxShadow:"0 0 10px var(--accent-cyan)",animationDelay:"1.5s"}}),o.jsx("div",{className:"absolute border-2 border-l-0 animate-pulse",style:{left:0,top:"50%",width:125,height:309,transform:"translateY(-50%)",borderColor:"var(--secondary-neon)",boxShadow:"0 0 10px rgba(255, 0, 128, 0.3)",animationDelay:"0.2s"}}),o.jsx("div",{className:"absolute border-2 border-r-0 animate-pulse",style:{right:0,top:"50%",width:125,height:309,transform:"translateY(-50%)",borderColor:"var(--accent-cyan)",boxShadow:"0 0 10px rgba(0, 212, 255, 0.3)",animationDelay:"0.7s"}}),o.jsx("div",{className:"absolute border-2 border-l-0 animate-pulse",style:{left:0,top:"50%",width:42,height:141,transform:"translateY(-50%)",borderColor:"var(--secondary-neon)",boxShadow:"0 0 8px rgba(255, 0, 128, 0.4)",animationDelay:"0.3s"}}),o.jsx("div",{className:"absolute border-2 border-r-0 animate-pulse",style:{right:0,top:"50%",width:42,height:141,transform:"translateY(-50%)",borderColor:"var(--accent-cyan)",boxShadow:"0 0 8px rgba(0, 212, 255, 0.4)",animationDelay:"0.8s"}}),o.jsx("div",{className:"absolute w-1.5 h-1.5 rounded-full animate-pulse",style:{left:84,top:"50%",transform:"translateY(-50%)",background:"var(--secondary-neon)",boxShadow:"0 0 8px var(--secondary-neon)",animationDelay:"2s"}}),o.jsx("div",{className:"absolute w-1.5 h-1.5 rounded-full animate-pulse",style:{right:84,top:"50%",transform:"translateY(-50%)",background:"var(--accent-cyan)",boxShadow:"0 0 8px var(--accent-cyan)",animationDelay:"2.5s"}}),[{x:0,y:0},{x:"100%",y:0},{x:0,y:"100%"},{x:"100%",y:"100%"}].map((e,t)=>o.jsx("div",{className:"absolute w-1 h-1 animate-pulse",style:{left:e.x,top:e.y,transform:"translate(-50%, -50%)",background:"var(--warning-orange)",boxShadow:"0 0 6px var(--warning-orange)",animationDelay:`${3+t*.2}s`}},t))]}));Te.displayName="PitchMarkings";Pe.displayName="Pitch";const Fe=p.memo(({isOpen:e,onClose:t})=>{const r=g(i=>i.players),n=g(i=>i.updatePlayer),a=g(i=>i.clearAllPlayerNames),[l,c]=p.useState([]);p.useEffect(()=>{e&&c([...r])},[e,r]);const d=(i,s,u)=>{c(m=>m.map(y=>y.id===i?{...y,[s]:s==="number"?parseInt(u)||1:u}:y))},f=()=>{l.forEach(i=>{const s=r.find(u=>u.id===i.id);s&&(s.name!==i.name||s.number!==i.number||s.color!==i.color)&&n(i.id,{name:i.name,number:i.number,color:i.color,team:i.team,position:i.position})}),t()},x=()=>{c(i=>i.map(s=>({...s,name:`Player ${s.number}`}))),a()};return e?o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,backdropFilter:"blur(5px)"},onClick:t,children:o.jsxs("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",padding:"32px",maxWidth:"900px",maxHeight:"85vh",overflowY:"auto",color:"#ffffff",position:"relative",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},onClick:i=>i.stopPropagation(),children:[o.jsx("button",{onClick:t,style:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",color:"rgba(255, 255, 255, 0.8)",fontSize:"24px",cursor:"pointer",width:"30px",height:"30px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:"×"}),o.jsx("h2",{style:{marginBottom:"32px",textAlign:"center",color:"#ffffff",fontSize:"28px",fontWeight:"bold",letterSpacing:"-0.025em"},children:"Edit Roster"}),o.jsx("div",{style:{overflowX:"auto"},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"15px",backgroundColor:"rgba(255, 255, 255, 0.02)",borderRadius:"8px",overflow:"hidden"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{borderBottom:"2px solid rgba(255, 255, 255, 0.2)",backgroundColor:"rgba(255, 255, 255, 0.05)"},children:[o.jsx("th",{style:{padding:"16px 12px",textAlign:"left",color:"#ffffff",fontWeight:"bold",fontSize:"14px",letterSpacing:"0.05em"},children:"Team"}),o.jsx("th",{style:{padding:"16px 12px",textAlign:"left",color:"#ffffff",fontWeight:"bold",fontSize:"14px",letterSpacing:"0.05em"},children:"Name"}),o.jsx("th",{style:{padding:"16px 12px",textAlign:"left",color:"#ffffff",fontWeight:"bold",fontSize:"14px",letterSpacing:"0.05em"},children:"#"}),o.jsx("th",{style:{padding:"16px 12px",textAlign:"left",color:"#ffffff",fontWeight:"bold",fontSize:"14px",letterSpacing:"0.05em"},children:"Color"})]})}),o.jsx("tbody",{children:l.map((i,s)=>o.jsxs("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.08)",backgroundColor:s%2===0?"rgba(255, 255, 255, 0.03)":"rgba(255, 255, 255, 0.01)",transition:"background-color 0.2s ease"},children:[o.jsx("td",{style:{padding:"12px"},children:o.jsx("span",{style:{color:i.team==="red"?"#ff6b6b":"#4dabf7",fontWeight:"bold",textTransform:"capitalize"},children:i.team})}),o.jsx("td",{style:{padding:"12px"},children:o.jsx("input",{type:"text",value:i.name,onChange:u=>d(i.id,"name",u.target.value),style:{width:"100%",padding:"8px 12px",backgroundColor:"rgba(255, 255, 255, 0.95)",color:"#1f2937",border:"1px solid rgba(209, 213, 219, 0.3)",borderRadius:"6px",fontSize:"14px",transition:"all 0.2s ease",outline:"none"}})}),o.jsx("td",{style:{padding:"12px"},children:o.jsx("input",{type:"number",min:"1",max:"99",value:i.number,onChange:u=>d(i.id,"number",u.target.value),style:{width:"70px",padding:"8px 12px",backgroundColor:"rgba(255, 255, 255, 0.95)",color:"#1f2937",border:"1px solid rgba(209, 213, 219, 0.3)",borderRadius:"6px",fontSize:"14px",transition:"all 0.2s ease",outline:"none",textAlign:"center"}})}),o.jsx("td",{style:{padding:"12px"},children:o.jsx("input",{type:"color",value:i.color.includes("rgba")?i.team==="red"?"#ff4444":"#4444ff":i.color,onChange:u=>d(i.id,"color",u.target.value),style:{width:"60px",height:"36px",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",cursor:"pointer",transition:"border-color 0.2s ease"}})})]},i.id))})]})}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginTop:"30px"},children:[o.jsx("div",{style:{display:"flex",justifyContent:"center",paddingBottom:"16px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:o.jsx("button",{onClick:x,style:{padding:"12px 24px",backgroundColor:"#dc2626",border:"none",color:"#ffffff",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"14px",transition:"background-color 0.2s ease"},onMouseOver:i=>i.target.style.backgroundColor="#b91c1c",onMouseOut:i=>i.target.style.backgroundColor="#dc2626",children:"Clear All Names"})}),o.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[o.jsx("button",{onClick:t,style:{padding:"12px 24px",backgroundColor:"#6b7280",border:"none",color:"#ffffff",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"14px",transition:"background-color 0.2s ease"},onMouseOver:i=>i.target.style.backgroundColor="#4b5563",onMouseOut:i=>i.target.style.backgroundColor="#6b7280",children:"Cancel"}),o.jsx("button",{onClick:f,style:{padding:"12px 24px",backgroundColor:"#0891b2",border:"none",color:"#ffffff",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"14px",transition:"background-color 0.2s ease"},onMouseOver:i=>i.target.style.backgroundColor="#0e7490",onMouseOut:i=>i.target.style.backgroundColor="#0891b2",children:"Save Changes"})]})]})]})}):null});Fe.displayName="RosterModal";const yt=()=>{const e=g(i=>i.players),t=g(i=>i.ball),r=g(i=>i.resetFormations),n=g(i=>i.updatePlayerPosition),a=g(i=>i.updatePlayer),l=g(i=>i.updateBallPosition),c=p.useCallback(i=>{const s={version:"1.0.0",timestamp:new Date().toISOString(),players:e,ball:t,metadata:{description:i||"Soccer Tactics Board Save"}},u=JSON.stringify(s,null,2),m=new Blob([u],{type:"application/json"}),y=document.createElement("a");y.href=URL.createObjectURL(m),y.download=`tactics-${new Date().toISOString().split("T")[0]}.json`,y.click(),URL.revokeObjectURL(y.href)},[e,t]),d=p.useCallback(()=>new Promise((i,s)=>{const u=document.createElement("input");u.type="file",u.accept=".json",u.onchange=m=>{var v;const y=(v=m.target.files)==null?void 0:v[0];if(!y){s(new Error("No file selected"));return}const h=new FileReader;h.onload=b=>{var w;try{const S=JSON.parse((w=b.target)==null?void 0:w.result);if(!S.players||!S.ball)throw new Error("Invalid save file format");r(),S.players.forEach(k=>{a(k.id,{name:k.name,number:k.number,color:k.color,team:k.team,position:k.position}),n(k.id,k.position)}),l(S.ball.position),i()}catch(S){s(new Error("Failed to parse save file: "+S.message))}},h.onerror=()=>s(new Error("Failed to read file")),h.readAsText(y)},u.click()}),[r,a,n,l]),f=p.useCallback(async i=>{const s={version:"1.0.0",timestamp:new Date().toISOString(),players:e,ball:t,metadata:{description:i||"Soccer Tactics Board Save"}};try{return await navigator.clipboard.writeText(JSON.stringify(s,null,2)),!0}catch(u){return console.error("Failed to copy to clipboard:",u),!1}},[e,t]),x=p.useCallback(async()=>{try{const i=await navigator.clipboard.readText(),s=JSON.parse(i);if(!s.players||!s.ball)throw new Error("Invalid save data format");return r(),s.players.forEach(u=>{a(u.id,{name:u.name,number:u.number,color:u.color,team:u.team,position:u.position}),n(u.id,u.position)}),l(s.ball.position),!0}catch(i){return console.error("Failed to import from clipboard:",i),!1}},[r,a,n,l]);return{saveToFile:c,loadFromFile:d,exportToClipboard:f,importFromClipboard:x}},te=p.memo(({isOpen:e,onClose:t,mode:r})=>{const{saveToFile:n,loadFromFile:a,exportToClipboard:l,importFromClipboard:c}=yt(),[d,f]=p.useState(""),[x,i]=p.useState(!1),[s,u]=p.useState("");p.useEffect(()=>{e&&(f(""),u(""),i(!1))},[e]);const m=async()=>{try{i(!0),n(d||"Soccer Tactics Board Save"),u("Tactics saved successfully!"),setTimeout(()=>t(),1500)}catch{u("Failed to save tactics")}finally{i(!1)}},y=async()=>{try{i(!0),await a(),u("Tactics loaded successfully!"),setTimeout(()=>t(),1500)}catch(b){u("Failed to load tactics: "+b.message)}finally{i(!1)}},h=async()=>{try{i(!0);const b=await l(d||"Soccer Tactics Board Save");u(b?"Tactics copied to clipboard!":"Failed to copy to clipboard")}catch{u("Failed to copy to clipboard")}finally{i(!1)}},v=async()=>{try{i(!0),await c()?(u("Tactics loaded from clipboard!"),setTimeout(()=>t(),1500)):u("Failed to load from clipboard")}catch{u("Failed to load from clipboard")}finally{i(!1)}};return e?o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,backdropFilter:"blur(5px)"},onClick:t,children:o.jsxs("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",padding:"30px",maxWidth:"500px",width:"90%",color:"#ffffff",position:"relative"},onClick:b=>b.stopPropagation(),children:[o.jsx("button",{onClick:t,style:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",color:"rgba(255, 255, 255, 0.8)",fontSize:"24px",cursor:"pointer",width:"30px",height:"30px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:"×"}),o.jsx("h2",{style:{marginBottom:"20px",textAlign:"center",color:"#ffffff",fontSize:"24px",fontWeight:"bold"},children:r==="save"?"Save Tactics":"Load Tactics"}),r==="save"&&o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#ffffff",fontSize:"14px"},children:"Description (optional):"}),o.jsx("input",{type:"text",value:d,onChange:b=>f(b.target.value),placeholder:"e.g., 4-4-2 attacking formation",style:{width:"100%",padding:"10px",backgroundColor:"#ffffff",color:"#333333",border:"none",borderRadius:"4px",fontSize:"14px"}})]}),s&&o.jsx("div",{style:{padding:"10px",marginBottom:"20px",backgroundColor:s.includes("Failed")?"rgba(255, 107, 107, 0.2)":"rgba(76, 175, 80, 0.2)",border:`1px solid ${s.includes("Failed")?"#ff6b6b":"#4caf50"}`,borderRadius:"4px",color:s.includes("Failed")?"#ff6b6b":"#4caf50",fontSize:"14px",textAlign:"center"},children:s}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:r==="save"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:m,disabled:x,style:{padding:"12px 20px",backgroundColor:"#00bcd4",border:"none",color:"#ffffff",borderRadius:"4px",cursor:x?"not-allowed":"pointer",fontWeight:"bold",fontSize:"14px",opacity:x?.6:1},children:x?"Saving...":"💾 Save to File"}),o.jsx("button",{onClick:h,disabled:x,style:{padding:"12px 20px",backgroundColor:"transparent",border:"2px solid #00bcd4",color:"#00bcd4",borderRadius:"4px",cursor:x?"not-allowed":"pointer",fontWeight:"bold",fontSize:"14px",opacity:x?.6:1},children:x?"Copying...":"📋 Copy to Clipboard"})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:y,disabled:x,style:{padding:"12px 20px",backgroundColor:"#00bcd4",border:"none",color:"#ffffff",borderRadius:"4px",cursor:x?"not-allowed":"pointer",fontWeight:"bold",fontSize:"14px",opacity:x?.6:1},children:x?"Loading...":"📁 Load from File"}),o.jsx("button",{onClick:v,disabled:x,style:{padding:"12px 20px",backgroundColor:"transparent",border:"2px solid #00bcd4",color:"#00bcd4",borderRadius:"4px",cursor:x?"not-allowed":"pointer",fontWeight:"bold",fontSize:"14px",opacity:x?.6:1},children:x?"Pasting...":"📋 Paste from Clipboard"})]})}),o.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:o.jsx("button",{onClick:t,style:{padding:"10px 20px",backgroundColor:"#666666",border:"none",color:"#ffffff",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"14px"},children:"Close"})})]})}):null});te.displayName="SaveLoadModal";const Oe=p.memo(()=>{const{resetBall:e,clearAll:t,switchSides:r,resetFormations:n,setFormation:a}=g(),[l,c]=p.useState(!1),[d,f]=p.useState(!1),[x,i]=p.useState(!1),s=p.useCallback((w,S)=>{a(w,S)},[a]),u=p.useCallback(()=>{c(!0)},[]),m=p.useCallback(()=>{c(!1)},[]),y=p.useCallback(()=>{f(!0)},[]),h=p.useCallback(()=>{f(!1)},[]),v=p.useCallback(()=>{i(!0)},[]),b=p.useCallback(()=>{i(!1)},[]);return o.jsxs("div",{className:"neo-brutalist-panel p-8 mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"w-8 h-8 relative",children:[o.jsx("div",{className:"absolute inset-0 border-2 border-cyan-400 animate-spin",style:{clipPath:"polygon(0 0, 100% 0, 100% 50%, 0 50%)"}}),o.jsx("div",{className:"absolute inset-0 border-2 border-pink-400 animate-spin",style:{clipPath:"polygon(0 50%, 100% 50%, 100% 100%, 0 100%)",animationDirection:"reverse",animationDelay:"0.5s"}})]}),o.jsx("h2",{className:"glitch-text","data-text":"COMMAND CENTER",style:{color:"var(--primary-neon)",fontSize:"20px",fontWeight:"900",letterSpacing:"0.15em",fontFamily:"Orbitron, monospace",textTransform:"uppercase"},children:"COMMAND CENTER"})]}),o.jsx("div",{className:"flex items-center gap-3 text-xs font-mono",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{style:{color:"var(--text-secondary)"},children:"READY"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-0.5 h-6 bg-gradient-to-b from-cyan-400 to-pink-400"}),o.jsx("h3",{className:"neon-glow",style:{color:"var(--accent-cyan)",fontWeight:"700",fontSize:"16px",textTransform:"uppercase",letterSpacing:"0.1em",fontFamily:"Orbitron, monospace"},children:"FORMATION MATRIX"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(oe,{team:"red",onFormationChange:s}),o.jsx(oe,{team:"blue",onFormationChange:s})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-0.5 h-6 bg-gradient-to-b from-pink-400 to-green-400"}),o.jsx("h3",{className:"neon-glow",style:{color:"var(--secondary-neon)",fontWeight:"700",fontSize:"16px",textTransform:"uppercase",letterSpacing:"0.1em",fontFamily:"Orbitron, monospace"},children:"TACTICAL OPERATIONS"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(N,{onClick:e,children:"RESET BALL"}),o.jsx(N,{onClick:t,children:"CLEAR ALL"}),o.jsx(N,{onClick:r,children:"SWITCH SIDES"}),o.jsx(N,{onClick:n,children:"RESET FORMATIONS"}),o.jsx(N,{onClick:u,children:"EDIT ROSTER"}),o.jsx(N,{onClick:y,children:"SAVE TACTICS"}),o.jsx(N,{onClick:v,children:"LOAD TACTICS"})]})]})]}),o.jsx(Fe,{isOpen:l,onClose:m}),o.jsx(te,{isOpen:d,onClose:h,mode:"save"}),o.jsx(te,{isOpen:x,onClose:b,mode:"load"})]})}),oe=p.memo(({team:e,onFormationChange:t})=>{const r=["4-4-2","4-3-3","3-5-2","5-3-2","4-2-3-1"],n=e==="red"?"var(--secondary-neon)":"var(--accent-cyan)",a=e==="red"?"ALPHA":"BETA";return o.jsxs("div",{className:"relative p-4 border-2",style:{borderColor:n,background:"linear-gradient(135deg, rgba(26, 26, 26, 0.8), rgba(42, 42, 42, 0.6))",clipPath:"polygon(15px 0, 100% 0, calc(100% - 15px) 100%, 0 100%)",boxShadow:`0 0 15px ${n}30`},children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 animate-pulse",style:{background:n,clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)",boxShadow:`0 0 8px ${n}`}}),o.jsxs("span",{className:"neon-glow",style:{color:n,fontWeight:"700",textTransform:"uppercase",fontSize:"14px",letterSpacing:"0.1em",fontFamily:"Orbitron, monospace"},children:["TEAM ",a]})]}),o.jsx("div",{className:"text-xs font-mono opacity-60",style:{color:"var(--text-secondary)"},children:"FORMATION"})]}),o.jsx("select",{className:"formation-selector w-full p-3 text-sm font-bold cursor-pointer",style:{background:`linear-gradient(135deg, var(--surface-1), rgba(${e==="red"?"255, 0, 128":"0, 212, 255"}, 0.1))`,border:`2px solid ${n}`,color:"var(--text-primary)",fontSize:"13px",fontWeight:"700",fontFamily:"Orbitron, monospace",outline:"none",backdropFilter:"blur(8px)"},onChange:l=>t(e,l.target.value),defaultValue:e==="red"?"4-4-2":"4-3-3",children:r.map(l=>o.jsx("option",{value:l,style:{backgroundColor:"var(--surface-1)",color:"var(--text-primary)",fontFamily:"Orbitron, monospace"},children:ft(l)},l))})]})}),N=p.memo(({children:e,onClick:t})=>{const[r,n]=p.useState(!1),l=["CLEAR ALL","RESET FORMATIONS"].some(f=>typeof e=="string"&&e.includes(f)),c=l?"var(--error-red)":"var(--accent-cyan)",d=l?"var(--warning-orange)":"var(--primary-neon)";return o.jsxs("button",{className:"retro-button p-3 text-xs font-bold transition-all duration-300",onClick:t,style:{background:r?`linear-gradient(45deg, ${d}, ${c})`:"linear-gradient(45deg, var(--surface-2), var(--surface-1))",border:`2px solid ${r?d:c}`,color:r?"var(--bg-dark)":c,fontFamily:"Orbitron, monospace",letterSpacing:"0.1em",boxShadow:r?`0 0 20px ${c}, inset 0 0 20px rgba(255, 255, 255, 0.2)`:"0 4px 8px rgba(0, 0, 0, 0.3)",transform:r?"translateY(-2px)":"translateY(0)",textShadow:r?`0 0 10px ${c}`:"none"},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[o.jsx("div",{className:"relative z-10",children:e}),o.jsx("div",{className:"absolute inset-0 opacity-0 transition-opacity duration-300",style:{background:`linear-gradient(45deg, transparent, ${c}20, transparent)`,opacity:r?1:0}})]})});oe.displayName="FormationSelector";N.displayName="ControlButton";Oe.displayName="Controls";const Re=p.memo(({player:e,onClose:t})=>{const r=g(s=>s.updatePlayer),[n,a]=p.useState(""),[l,c]=p.useState(1),[d,f]=p.useState("#ff4444");p.useEffect(()=>{e&&(a(e.name),c(e.number),f(e.color.includes("rgba")?e.team==="red"?"#ff4444":"#4444ff":e.color))},[e]);const x=p.useCallback(()=>{e&&r(e.id,{name:n,number:l,color:d,team:e.team,position:e.position}),t()},[e,n,l,d,r,t]),i=p.useCallback(s=>{s.key==="Enter"?x():s.key==="Escape"&&t()},[x,t]);return e?o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,backdropFilter:"blur(5px)"},onClick:t,onKeyDown:i,tabIndex:0,children:o.jsxs("div",{style:{backgroundColor:"rgba(26, 32, 44, 0.95)",border:"1px solid rgba(74, 85, 104, 0.4)",borderRadius:"8px",padding:"30px",minWidth:"400px",color:"#e2e8f0",position:"relative",backdropFilter:"blur(12px)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.4)"},onClick:s=>s.stopPropagation(),children:[o.jsx("button",{onClick:t,style:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",color:"rgba(226, 232, 240, 0.8)",fontSize:"24px",cursor:"pointer",width:"30px",height:"30px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="rgba(74, 85, 104, 0.3)",s.currentTarget.style.color="#e2e8f0"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="transparent",s.currentTarget.style.color="rgba(226, 232, 240, 0.8)"},children:"×"}),o.jsx("h2",{style:{marginBottom:"25px",textAlign:"center",color:"#e2e8f0",fontSize:"20px",fontWeight:"600",fontFamily:'ui-monospace, Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace',textTransform:"uppercase",letterSpacing:"0.1em"},children:"Edit Player"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"25px"},children:[o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:d,border:"2px solid #ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold",color:"#ffffff",textShadow:"0 1px 2px rgba(0,0,0,0.5)"},children:l}),o.jsx("div",{children:o.jsxs("div",{style:{color:e.team==="red"?"#f87171":"#60a5fa",fontWeight:"600",textTransform:"uppercase",fontSize:"12px",letterSpacing:"0.05em",fontFamily:'ui-monospace, Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace'},children:[e.team," Team"]})})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#cbd5e0",fontSize:"13px",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.05em",fontFamily:'ui-monospace, Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace'},children:"Player Name"}),o.jsx("input",{type:"text",value:n,onChange:s=>a(s.target.value),autoFocus:!0,style:{width:"100%",padding:"12px 16px",backgroundColor:"rgba(45, 55, 72, 0.6)",color:"#e2e8f0",border:"1px solid rgba(74, 85, 104, 0.4)",borderRadius:"6px",fontSize:"14px",fontWeight:"500",outline:"none",transition:"all 0.2s ease",backdropFilter:"blur(8px)"},onFocus:s=>{s.target.style.borderColor=e.team==="red"?"#f87171":"#60a5fa",s.target.style.boxShadow=`0 0 0 2px ${e.team==="red"?"#f87171":"#60a5fa"}20`},onBlur:s=>{s.target.style.borderColor="rgba(74, 85, 104, 0.4)",s.target.style.boxShadow="none"}})]}),o.jsxs("div",{style:{display:"flex",gap:"15px"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#cbd5e0",fontSize:"13px",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.05em",fontFamily:'ui-monospace, Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace'},children:"Jersey Number"}),o.jsx("input",{type:"number",min:"1",max:"99",value:l,onChange:s=>c(parseInt(s.target.value)||1),style:{width:"100%",padding:"12px 16px",backgroundColor:"rgba(45, 55, 72, 0.6)",color:"#e2e8f0",border:"1px solid rgba(74, 85, 104, 0.4)",borderRadius:"6px",fontSize:"14px",fontWeight:"500",outline:"none",transition:"all 0.2s ease",backdropFilter:"blur(8px)"},onFocus:s=>{s.target.style.borderColor=e.team==="red"?"#f87171":"#60a5fa",s.target.style.boxShadow=`0 0 0 2px ${e.team==="red"?"#f87171":"#60a5fa"}20`},onBlur:s=>{s.target.style.borderColor="rgba(74, 85, 104, 0.4)",s.target.style.boxShadow="none"}})]}),o.jsxs("div",{style:{flex:1},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#cbd5e0",fontSize:"13px",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.05em",fontFamily:'ui-monospace, Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace'},children:"Jersey Color"}),o.jsx("input",{type:"color",value:d,onChange:s=>f(s.target.value),style:{width:"100%",height:"46px",border:"1px solid rgba(74, 85, 104, 0.4)",borderRadius:"6px",cursor:"pointer",backgroundColor:"transparent",outline:"none",transition:"all 0.2s ease"},onFocus:s=>{s.target.style.borderColor=e.team==="red"?"#f87171":"#60a5fa",s.target.style.boxShadow=`0 0 0 2px ${e.team==="red"?"#f87171":"#60a5fa"}20`},onBlur:s=>{s.target.style.borderColor="rgba(74, 85, 104, 0.4)",s.target.style.boxShadow="none"}})]})]})]}),o.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"30px",justifyContent:"flex-end"},children:[o.jsx("button",{onClick:t,style:{padding:"12px 20px",backgroundColor:"rgba(74, 85, 104, 0.6)",border:"1px solid rgba(74, 85, 104, 0.4)",color:"#a0aec0",borderRadius:"6px",cursor:"pointer",fontWeight:"500",fontSize:"13px",fontFamily:'ui-monospace, Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace',textTransform:"uppercase",letterSpacing:"0.025em",transition:"all 0.2s ease",backdropFilter:"blur(8px)"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="rgba(74, 85, 104, 0.8)",s.currentTarget.style.color="#e2e8f0"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="rgba(74, 85, 104, 0.6)",s.currentTarget.style.color="#a0aec0"},children:"Cancel"}),o.jsx("button",{onClick:x,style:{padding:"12px 20px",backgroundColor:e.team==="red"?"rgba(248, 113, 113, 0.8)":"rgba(96, 165, 250, 0.8)",border:`1px solid ${e.team==="red"?"rgba(248, 113, 113, 0.4)":"rgba(96, 165, 250, 0.4)"}`,color:"#ffffff",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"13px",fontFamily:'ui-monospace, Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace',textTransform:"uppercase",letterSpacing:"0.025em",transition:"all 0.2s ease",backdropFilter:"blur(8px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor=e.team==="red"?"rgba(248, 113, 113, 1)":"rgba(96, 165, 250, 1)"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor=e.team==="red"?"rgba(248, 113, 113, 0.8)":"rgba(96, 165, 250, 0.8)"},children:"Save Changes"})]})]})}):null});Re.displayName="PlayerEditModal";function bt(){const e=g(r=>r.selectedPlayer),t=g(r=>r.selectPlayer);return o.jsxs("div",{className:"min-h-screen p-6 relative",children:[o.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0",children:[o.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-green-400 rounded-full animate-pulse opacity-30"}),o.jsx("div",{className:"absolute top-3/4 right-1/3 w-1 h-1 bg-cyan-400 rounded-full animate-pulse opacity-40",style:{animationDelay:"1s"}}),o.jsx("div",{className:"absolute top-1/2 right-1/4 w-1.5 h-1.5 bg-pink-400 rounded-full animate-pulse opacity-25",style:{animationDelay:"2s"}})]}),o.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[o.jsxs("div",{className:"text-center mb-12 relative",children:[o.jsxs("div",{className:"inline-block relative",children:[o.jsx("h1",{className:"glitch-text neon-glow","data-text":"TACTICAL NEXUS",style:{color:"var(--primary-neon)",fontSize:"42px",fontWeight:"900",letterSpacing:"0.2em",fontFamily:"Orbitron, monospace",textTransform:"uppercase",marginBottom:"16px",textShadow:"0 0 20px var(--primary-neon)"},children:"TACTICAL NEXUS"}),o.jsx("div",{className:"flex justify-center gap-1 mt-4",children:Array.from({length:8},(r,n)=>o.jsx("div",{className:"h-1 bg-gradient-to-r from-cyan-400 to-pink-400 animate-pulse",style:{width:"12px",animationDelay:`${n*.2}s`,clipPath:"polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%)"}},n))})]}),o.jsxs("div",{className:"flex justify-center gap-6 mt-8 text-xs font-mono",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{style:{color:"var(--text-secondary)"},children:"SYSTEM ONLINE"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),o.jsx("span",{style:{color:"var(--text-secondary)"},children:"TACTICAL MODE"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full animate-pulse",style:{animationDelay:"1s"}}),o.jsx("span",{style:{color:"var(--text-secondary)"},children:"NEXUS ACTIVE"})]})]})]}),o.jsxs(mt,{children:[o.jsx(Oe,{}),o.jsx(Pe,{})]}),o.jsx(Re,{player:e,onClose:()=>t(null)})]})]})}X.createRoot(document.getElementById("root")).render(o.jsx(p.StrictMode,{children:o.jsx(bt,{})}));
