import{r as $e,a as Ke,R as m}from"./vendor-nf7bT_Uh.js";import{u as Ce,a as He,b as de,D as Ue,c as Ge,T as Je,P as Ye}from"./dnd-uZAB4MAk.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();var we={exports:{}},A={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qe=$e,Xe=Symbol.for("react.element"),Qe=Symbol.for("react.fragment"),Ve=Object.prototype.hasOwnProperty,Ze=qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,et={key:!0,ref:!0,__self:!0,__source:!0};function ke(e,t,o){var s,n={},i=null,d=null;o!==void 0&&(i=""+o),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(d=t.ref);for(s in t)Ve.call(t,s)&&!et.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:Xe,type:e,key:i,ref:d,props:n,_owner:Ze.current}}A.Fragment=Qe;A.jsx=ke;A.jsxs=ke;we.exports=A;var r=we.exports,Y={},ue=Ke;Y.createRoot=ue.createRoot,Y.hydrateRoot=ue.hydrateRoot;const me=e=>{let t;const o=new Set,s=(c,l)=>{const a=typeof c=="function"?c(t):c;if(!Object.is(a,t)){const x=t;t=l??(typeof a!="object"||a===null)?a:Object.assign({},t,a),o.forEach(p=>p(t,x))}},n=()=>t,u={setState:s,getState:n,getInitialState:()=>f,subscribe:c=>(o.add(c),()=>o.delete(c))},f=t=e(s,n,u);return u},tt=e=>e?me(e):me,rt=e=>e;function ot(e,t=rt){const o=m.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return m.useDebugValue(o),o}const st=e=>{const t=tt(e),o=s=>ot(t,s);return Object.assign(o,t),o},nt=e=>st;var Ne=Symbol.for("immer-nothing"),fe=Symbol.for("immer-draftable"),j=Symbol.for("immer-state");function N(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var R=Object.getPrototypeOf;function I(e){return!!e&&!!e[j]}function T(e){var t;return e?Se(e)||Array.isArray(e)||!!e[fe]||!!((t=e.constructor)!=null&&t[fe])||K(e)||H(e):!1}var at=Object.prototype.constructor.toString();function Se(e){if(!e||typeof e!="object")return!1;const t=R(e);if(t===null)return!0;const o=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return o===Object?!0:typeof o=="function"&&Function.toString.call(o)===at}function D(e,t){$(e)===0?Reflect.ownKeys(e).forEach(o=>{t(o,e[o],e)}):e.forEach((o,s)=>t(s,o,e))}function $(e){const t=e[j];return t?t.type_:Array.isArray(e)?1:K(e)?2:H(e)?3:0}function q(e,t){return $(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _e(e,t,o){const s=$(e);s===2?e.set(t,o):s===3?e.add(o):e[t]=o}function it(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function K(e){return e instanceof Map}function H(e){return e instanceof Set}function F(e){return e.copy_||e.base_}function X(e,t){if(K(e))return new Map(e);if(H(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const o=Se(e);if(t===!0||t==="class_only"&&!o){const s=Object.getOwnPropertyDescriptors(e);delete s[j];let n=Reflect.ownKeys(s);for(let i=0;i<n.length;i++){const d=n[i],u=s[d];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(s[d]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[d]})}return Object.create(R(e),s)}else{const s=R(e);if(s!==null&&o)return{...e};const n=Object.create(s);return Object.assign(n,e)}}function ne(e,t=!1){return U(e)||I(e)||!T(e)||($(e)>1&&(e.set=e.add=e.clear=e.delete=lt),Object.freeze(e),t&&Object.entries(e).forEach(([o,s])=>ne(s,!0))),e}function lt(){N(2)}function U(e){return Object.isFrozen(e)}var ct={};function M(e){const t=ct[e];return t||N(0,e),t}var E;function Pe(){return E}function dt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function xe(e,t){t&&(M("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Q(e){V(e),e.drafts_.forEach(ut),e.drafts_=null}function V(e){e===E&&(E=e.parent_)}function pe(e){return E=dt(E,e)}function ut(e){const t=e[j];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function he(e,t){t.unfinalizedDrafts_=t.drafts_.length;const o=t.drafts_[0];return e!==void 0&&e!==o?(o[j].modified_&&(Q(t),N(4)),T(e)&&(e=L(t,e),t.parent_||W(t,e)),t.patches_&&M("Patches").generateReplacementPatches_(o[j].base_,e,t.patches_,t.inversePatches_)):e=L(t,o,[]),Q(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ne?e:void 0}function L(e,t,o){if(U(t))return t;const s=t[j];if(!s)return D(t,(n,i)=>be(e,s,t,n,i,o)),t;if(s.scope_!==e)return t;if(!s.modified_)return W(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const n=s.copy_;let i=n,d=!1;s.type_===3&&(i=new Set(n),n.clear(),d=!0),D(i,(u,f)=>be(e,s,n,u,f,o,d)),W(e,n,!1),o&&e.patches_&&M("Patches").generatePatches_(s,o,e.patches_,e.inversePatches_)}return s.copy_}function be(e,t,o,s,n,i,d){if(I(n)){const u=i&&t&&t.type_!==3&&!q(t.assigned_,s)?i.concat(s):void 0,f=L(e,n,u);if(_e(o,s,f),I(f))e.canAutoFreeze_=!1;else return}else d&&o.add(n);if(T(n)&&!U(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;L(e,n),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(o,s)&&W(e,n)}}function W(e,t,o=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ne(t,o)}function mt(e,t){const o=Array.isArray(e),s={type_:o?1:0,scope_:t?t.scope_:Pe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=s,i=ae;o&&(n=[s],i=B);const{revoke:d,proxy:u}=Proxy.revocable(n,i);return s.draft_=u,s.revoke_=d,u}var ae={get(e,t){if(t===j)return e;const o=F(e);if(!q(o,t))return ft(e,o,t);const s=o[t];return e.finalized_||!T(s)?s:s===G(e.base_,t)?(J(e),e.copy_[t]=ee(s,e)):s},has(e,t){return t in F(e)},ownKeys(e){return Reflect.ownKeys(F(e))},set(e,t,o){const s=Fe(F(e),t);if(s!=null&&s.set)return s.set.call(e.draft_,o),!0;if(!e.modified_){const n=G(F(e),t),i=n==null?void 0:n[j];if(i&&i.base_===o)return e.copy_[t]=o,e.assigned_[t]=!1,!0;if(it(o,n)&&(o!==void 0||q(e.base_,t)))return!0;J(e),Z(e)}return e.copy_[t]===o&&(o!==void 0||t in e.copy_)||Number.isNaN(o)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=o,e.assigned_[t]=!0),!0},deleteProperty(e,t){return G(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,J(e),Z(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const o=F(e),s=Reflect.getOwnPropertyDescriptor(o,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:o[t]}},defineProperty(){N(11)},getPrototypeOf(e){return R(e.base_)},setPrototypeOf(){N(12)}},B={};D(ae,(e,t)=>{B[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});B.deleteProperty=function(e,t){return B.set.call(this,e,t,void 0)};B.set=function(e,t,o){return ae.set.call(this,e[0],t,o,e[0])};function G(e,t){const o=e[j];return(o?F(o):e)[t]}function ft(e,t,o){var n;const s=Fe(t,o);return s?"value"in s?s.value:(n=s.get)==null?void 0:n.call(e.draft_):void 0}function Fe(e,t){if(!(t in e))return;let o=R(e);for(;o;){const s=Object.getOwnPropertyDescriptor(o,t);if(s)return s;o=R(o)}}function Z(e){e.modified_||(e.modified_=!0,e.parent_&&Z(e.parent_))}function J(e){e.copy_||(e.copy_=X(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var xt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,o,s)=>{if(typeof t=="function"&&typeof o!="function"){const i=o;o=t;const d=this;return function(f=i,...c){return d.produce(f,l=>o.call(this,l,...c))}}typeof o!="function"&&N(6),s!==void 0&&typeof s!="function"&&N(7);let n;if(T(t)){const i=pe(this),d=ee(t,void 0);let u=!0;try{n=o(d),u=!1}finally{u?Q(i):V(i)}return xe(i,s),he(n,i)}else if(!t||typeof t!="object"){if(n=o(t),n===void 0&&(n=t),n===Ne&&(n=void 0),this.autoFreeze_&&ne(n,!0),s){const i=[],d=[];M("Patches").generateReplacementPatches_(t,n,i,d),s(i,d)}return n}else N(1,t)},this.produceWithPatches=(t,o)=>{if(typeof t=="function")return(d,...u)=>this.produceWithPatches(d,f=>t(f,...u));let s,n;return[this.produce(t,o,(d,u)=>{s=d,n=u}),s,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){T(e)||N(8),I(e)&&(e=pt(e));const t=pe(this),o=ee(e,void 0);return o[j].isManual_=!0,V(t),o}finishDraft(e,t){const o=e&&e[j];(!o||!o.isManual_)&&N(9);const{scope_:s}=o;return xe(s,t),he(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let o;for(o=t.length-1;o>=0;o--){const n=t[o];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}o>-1&&(t=t.slice(o+1));const s=M("Patches").applyPatches_;return I(e)?s(e,t):this.produce(e,n=>s(n,t))}};function ee(e,t){const o=K(e)?M("MapSet").proxyMap_(e,t):H(e)?M("MapSet").proxySet_(e,t):mt(e,t);return(t?t.scope_:Pe()).drafts_.push(o),o}function pt(e){return I(e)||N(10,e),Te(e)}function Te(e){if(!T(e)||U(e))return e;const t=e[j];let o;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,o=X(e,t.scope_.immer_.useStrictShallowCopy_)}else o=X(e,!0);return D(o,(s,n)=>{_e(o,s,Te(n))}),t&&(t.finalized_=!1),o}var C=new xt,ht=C.produce;C.produceWithPatches.bind(C);C.setAutoFreeze.bind(C);C.setUseStrictShallowCopy.bind(C);C.applyPatches.bind(C);C.createDraft.bind(C);C.finishDraft.bind(C);const bt=e=>(t,o,s)=>(s.setState=(n,i,...d)=>{const u=typeof n=="function"?ht(n):n;return t(u,i,...d)},e(s.setState,o,s)),yt=bt,gt=e=>(t,o,s)=>{const n=s.subscribe;return s.subscribe=(d,u,f)=>{let c=d;if(u){const l=(f==null?void 0:f.equalityFn)||Object.is;let a=d(s.getState());c=x=>{const p=d(x);if(!l(a,p)){const y=a;u(a=p,y)}},f!=null&&f.fireImmediately&&u(a,a)}return n(c)},e(t,o,s)},vt=gt,te={"4-4-2":[{x:5,y:50},{x:20,y:20},{x:20,y:40},{x:20,y:60},{x:20,y:80},{x:45,y:20},{x:35,y:40},{x:35,y:60},{x:45,y:80},{x:65,y:40},{x:65,y:60}],"4-3-3":[{x:5,y:50},{x:20,y:20},{x:20,y:40},{x:20,y:60},{x:20,y:80},{x:40,y:25},{x:40,y:50},{x:40,y:75},{x:65,y:25},{x:65,y:50},{x:65,y:75}],"3-5-2":[{x:5,y:50},{x:20,y:30},{x:20,y:50},{x:20,y:70},{x:40,y:15},{x:40,y:35},{x:40,y:50},{x:40,y:65},{x:40,y:85},{x:65,y:40},{x:65,y:60}],"5-3-2":[{x:5,y:50},{x:20,y:15},{x:20,y:35},{x:20,y:50},{x:20,y:65},{x:20,y:85},{x:45,y:30},{x:45,y:50},{x:45,y:70},{x:65,y:40},{x:65,y:60}],"4-2-3-1":[{x:5,y:50},{x:20,y:20},{x:20,y:40},{x:20,y:60},{x:20,y:80},{x:35,y:35},{x:35,y:65},{x:50,y:20},{x:50,y:50},{x:50,y:80},{x:70,y:50}]},ye=1200,ge=780;function ve(){const e=[],t=te["4-4-2"];for(let s=0;s<11;s++){const n=t[s];e.push({id:`player_team1_${s+1}`,number:s+1,name:`Player ${s+1}`,color:s===0?"#16a34a":"#dc2626",team:"team1",position:{x:n.x/100*(ye-25),y:n.y/100*(ge-25)}})}const o=te["4-3-3"];for(let s=0;s<11;s++){const n=o[s];e.push({id:`player_team2_${s+1}`,number:s+1,name:`Player ${s+1}`,color:s===0?"#ca8a04":"#2563eb",team:"team2",position:{x:(100-n.x)/100*(ye-25),y:n.y/100*(ge-25)}})}return e}function jt(e){return{"4-4-2":"4-4-2 Classic","4-3-3":"4-3-3 Attack","3-5-2":"3-5-2 Wing Play","5-3-2":"5-3-2 Defensive","4-2-3-1":"4-2-3-1 Balanced"}[e]}const z=1200,O=780,b=nt()(vt(yt(e=>({players:ve(),ball:{position:{x:z/2-7.5,y:O/2-7.5}},selectedPlayer:null,showPlayerNames:!0,showPlayerNumbers:!0,teams:{team1:{name:"Team 1",kitColor:"#dc2626",gkKitColor:"#16a34a"},team2:{name:"Team 2",kitColor:"#2563eb",gkKitColor:"#ca8a04"}},updatePlayerPosition:(t,o)=>e(s=>{const n=s.players.find(i=>i.id===t);n&&(n.position=o)}),updateBallPosition:t=>e(o=>{o.ball.position=t}),updatePlayer:(t,o)=>e(s=>{const n=s.players.find(i=>i.id===t);n&&Object.assign(n,o)}),selectPlayer:t=>e(o=>{o.selectedPlayer=t}),setFormation:(t,o)=>e(s=>{const n=s.players.filter(d=>d.team===t),i=te[o];for(let d=0;d<Math.min(n.length,i.length);d++){const u=n[d],f=i[d];t==="team1"?u.position={x:f.x/100*(z-25),y:f.y/100*(O-25)}:u.position={x:(100-f.x)/100*(z-25),y:f.y/100*(O-25)}}}),switchSides:()=>e(t=>{t.players.forEach(o=>{o.position.x=z-o.position.x-25})}),resetBall:()=>e(t=>{t.ball.position={x:z/2-7.5,y:O/2-7.5}}),clearAll:()=>e(t=>{t.players=[],t.selectedPlayer=null}),resetFormations:()=>e(t=>{t.players=ve(),t.selectedPlayer=null,t.ball.position={x:z/2-7.5,y:O/2-7.5}}),clearAllPlayerNames:()=>e(t=>{t.players.forEach(o=>{o.name=`Player ${o.number}`})}),togglePlayerNames:()=>e(t=>{t.showPlayerNames=!t.showPlayerNames}),togglePlayerNumbers:()=>e(t=>{t.showPlayerNumbers=!t.showPlayerNumbers}),updateTeamInfo:(t,o)=>e(s=>{Object.assign(s.teams[t],o)})})))),Ct=()=>b(e=>e.players),wt=()=>b(e=>e.ball);function je(e,t=25,o=25,s=800,n=520){return{x:Math.max(0,Math.min(e.x,s-t)),y:Math.max(0,Math.min(e.y,n-o))}}function kt(e){let t,o,s;if(e.startsWith("#")){const i=e.replace("#","");t=parseInt(i.substr(0,2),16),o=parseInt(i.substr(2,2),16),s=parseInt(i.substr(4,2),16)}else if(e.startsWith("rgb")){const i=e.match(/[\d.]+/g);if(!i||i.length<3)return!1;t=parseInt(i[0]),o=parseInt(i[1]),s=parseInt(i[2])}else return!1;return(.299*t+.587*o+.114*s)/255>.4}const ie=m.memo(({player:e,isDragging:t=!1,style:o})=>{const s=b(k=>k.selectPlayer),n=b(k=>k.selectedPlayer),i=b(k=>k.showPlayerNames),d=b(k=>k.showPlayerNumbers),u=b(k=>k.teams),f=(n==null?void 0:n.id)===e.id,[c,l]=m.useState(0),a=m.useRef(null),x={type:"player",id:e.id},{attributes:p,listeners:y,setNodeRef:v,transform:g,isDragging:h}=Ce({id:e.id,data:x,disabled:t}),S=m.useCallback(k=>{k.stopPropagation(),l(Ae=>Ae+1),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{c+1>=2&&s(e),l(0)},300)},[e,s,c]);m.useEffect(()=>()=>{a.current&&clearTimeout(a.current)},[]);const _=g?{transform:`translate3d(${g.x}px, ${g.y}px, 0) scale(1.1)`,willChange:"transform"}:void 0,w=u[e.team],ce=e.number===1?w.gkKitColor:w.kitColor,We=kt(ce)?"#000000":"#ffffff";return r.jsxs("div",{ref:v,style:{position:"absolute",left:t?0:e.position.x,top:t?0:e.position.y,width:"28px",height:"28px",cursor:"move",zIndex:h||t?1e3:10,transition:"none",userSelect:"none",touchAction:"none",..._,...o},onClick:S,...y,...p,children:[r.jsx("div",{className:"w-full h-full flex items-center justify-center rounded-full transition-all duration-200",style:{background:ce,border:f?"3px solid #f59e0b":"2px solid #ffffff",boxShadow:f?"0 0 0 2px #f59e0b":"0 2px 4px rgba(0, 0, 0, 0.1)"},children:d&&r.jsx("span",{className:"font-semibold",style:{fontSize:"11px",position:"relative",zIndex:2,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"600",color:We},children:e.number})}),i&&r.jsx("div",{className:"absolute",style:{top:"100%",left:"50%",transform:"translateX(-50%)",marginTop:"4px",fontSize:"10px",whiteSpace:"nowrap",color:"#000000",fontWeight:"500",pointerEvents:"none",opacity:h||t?0:.8,transition:"opacity 0.2s ease",fontFamily:"Inter, system-ui, sans-serif"},children:e.name})]})});ie.displayName="Player";const le=m.memo(({ball:e,isDragging:t=!1,style:o})=>{const s={type:"ball",id:"ball"},{attributes:n,listeners:i,setNodeRef:d,transform:u,isDragging:f}=Ce({id:"ball",data:s,disabled:t}),c=u?{transform:`translate3d(${u.x}px, ${u.y}px, 0) scale(1.2)`,willChange:"transform"}:void 0;return r.jsx("div",{ref:d,style:{position:"absolute",left:t?0:e.position.x,top:t?0:e.position.y,width:"18px",height:"18px",cursor:"move",zIndex:f||t?1e3:15,transition:"none",userSelect:"none",touchAction:"none",...c,...o},...i,...n,children:r.jsx("div",{className:"ball-neo w-full h-full rounded-full"})})});le.displayName="Ball";function Nt({children:e}){const[t,o]=m.useState(null),[s,n]=m.useState(null),i=b(p=>p.updatePlayerPosition),d=b(p=>p.updateBallPosition),u=b(p=>p.players),f=b(p=>p.ball),c=He(de(Ye,{activationConstraint:{distance:8}}),de(Je,{activationConstraint:{delay:0,tolerance:5}})),l=p=>{const{active:y}=p,v=y.data.current;o(y.id),n(v.type)},a=m.useCallback(p=>{const{active:y,delta:v}=p,g=y.data.current;if(g){if(g.type==="player"){const h=u.find(S=>S.id===g.id);if(h){const S=je({x:h.position.x+v.x,y:h.position.y+v.y},25,25,1200,780);i(g.id,S)}}else if(g.type==="ball"){const h=je({x:f.position.x+v.x,y:f.position.y+v.y},15,15,1200,780);d(h)}o(null),n(null)}},[u,f,i,d]),x=()=>{if(!t||!s)return null;if(s==="player"){const p=u.find(y=>y.id===t);return p?r.jsx(ie,{player:p,isDragging:!0,style:{opacity:.9}}):null}return s==="ball"?r.jsx(le,{ball:f,isDragging:!0,style:{opacity:.9}}):null};return r.jsxs(Ue,{sensors:c,onDragStart:l,onDragEnd:a,children:[e,r.jsx(Ge,{dropAnimation:{duration:0,easing:"linear"},children:x()})]})}const Me=m.memo(()=>{const e=Ct(),t=wt();return r.jsx("div",{className:"neo-brutalist-panel p-8 overflow-hidden",children:r.jsxs("div",{className:"relative mx-auto pitch-neo overflow-hidden",style:{width:1200,height:780},children:[r.jsx(ze,{}),e.map(o=>r.jsx(ie,{player:o},o.id)),r.jsx(le,{ball:t})]})})}),ze=m.memo(()=>r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute top-0 h-full",style:{left:"50%",transform:"translateX(-50%)",width:"2px",background:"var(--pitch-line)",zIndex:10}}),r.jsx("div",{className:"absolute rounded-full",style:{top:"50%",left:"50%",width:210,height:210,transform:"translate(-50%, -50%)",border:"2px solid var(--pitch-line)"}}),r.jsx("div",{className:"absolute w-2 h-2 rounded-full",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"var(--pitch-line)"}}),r.jsx("div",{className:"absolute border-2 border-l-0",style:{left:0,top:"50%",width:188,height:464,transform:"translateY(-50%)",borderColor:"var(--pitch-line)"}}),r.jsx("div",{className:"absolute border-2 border-r-0",style:{right:0,top:"50%",width:188,height:464,transform:"translateY(-50%)",borderColor:"var(--pitch-line)"}}),r.jsx("div",{className:"absolute border-2 border-l-0",style:{left:0,top:"50%",width:63,height:212,transform:"translateY(-50%)",borderColor:"var(--pitch-line)"}}),r.jsx("div",{className:"absolute border-2 border-r-0",style:{right:0,top:"50%",width:63,height:212,transform:"translateY(-50%)",borderColor:"var(--pitch-line)"}}),r.jsx("div",{className:"absolute w-2 h-2 rounded-full",style:{left:126,top:"50%",transform:"translate(-50%, -50%)",background:"var(--pitch-line)",zIndex:10}}),r.jsx("div",{className:"absolute w-2 h-2 rounded-full",style:{right:126,top:"50%",transform:"translate(50%, -50%)",background:"var(--pitch-line)",zIndex:10}}),r.jsx("svg",{className:"absolute",style:{left:126,top:"50%",transform:"translate(-50%, -50%)",width:210,height:210,overflow:"visible"},children:r.jsx("g",{transform:"translate(105 105)",children:r.jsx("path",{d:"M 62,-84.74 A 105,105 0 0,1 62,84.74",fill:"none",stroke:"var(--pitch-line)",strokeWidth:"2"})})}),r.jsx("svg",{className:"absolute",style:{right:126,top:"50%",transform:"translate(50%, -50%)",width:210,height:210,overflow:"visible"},children:r.jsx("g",{transform:"translate(105 105)",children:r.jsx("path",{d:"M -62,-84.74 A 105,105 0 0,0 -62,84.74",fill:"none",stroke:"var(--pitch-line)",strokeWidth:"2"})})}),[{x:0,y:0},{x:"100%",y:0},{x:0,y:"100%"},{x:"100%",y:"100%"}].map((e,t)=>r.jsx("div",{className:"absolute w-1 h-1",style:{left:e.x,top:e.y,transform:"translate(-50%, -50%)",background:"var(--pitch-line)"}},t))]}));ze.displayName="PitchMarkings";Me.displayName="Pitch";const Re=m.memo(()=>{const{setFormation:e,teams:t}=b(),o=m.useCallback((s,n)=>{e(s,n)},[e]);return r.jsxs("div",{className:"flex items-center gap-6 min-w-fit",children:[r.jsx(re,{team:"team1",onFormationChange:o,teamInfo:t.team1}),r.jsx("div",{className:"w-px h-6 bg-gray-300"}),r.jsx(re,{team:"team2",onFormationChange:o,teamInfo:t.team2})]})}),re=m.memo(({team:e,onFormationChange:t,teamInfo:o})=>{const s=["4-4-2","4-3-3","3-5-2","5-3-2","4-2-3-1"];return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full border border-white/30",style:{background:o.kitColor}}),r.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-[4rem]",children:o.name})]}),r.jsx("select",{className:"bg-white/80 border border-gray-200 rounded-md px-3 py-1.5 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-300 transition-colors min-w-[80px]",onChange:n=>t(e,n.target.value),defaultValue:e==="team1"?"4-4-2":"4-3-3",children:s.map(n=>r.jsx("option",{value:n,children:jt(n)},n))})]})});re.displayName="FormationSelector";Re.displayName="FormationBar";const Ie=m.memo(()=>{const{resetBall:e}=b();return r.jsx("button",{onClick:e,className:"fixed bottom-6 right-6 z-40 bg-blue-500 hover:bg-blue-600 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 active:scale-95",title:"Reset Ball Position",children:r.jsxs("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"8",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),r.jsx("path",{d:"M12 8v8M8 12h8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})})});Ie.displayName="FloatingResetButton";const Oe=m.memo(()=>{const{togglePlayerNames:e,togglePlayerNumbers:t,showPlayerNames:o,showPlayerNumbers:s}=b();return r.jsxs("div",{className:"flex gap-2 min-w-fit",children:[r.jsx(oe,{onClick:e,isActive:o,icon:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),tooltip:o?"Hide Names":"Show Names"}),r.jsx(oe,{onClick:t,isActive:s,icon:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})}),tooltip:s?"Hide Numbers":"Show Numbers"})]})}),oe=m.memo(({onClick:e,isActive:t,icon:o,tooltip:s})=>r.jsx("button",{onClick:e,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${t?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:s,children:r.jsxs("div",{className:"flex items-center gap-1.5",children:[o,r.jsx("span",{className:"text-xs",children:s.includes("Names")?"Names":"Numbers"})]})}));oe.displayName="ToggleButton";Oe.displayName="DisplayToggles";const Ee=m.memo(({isOpen:e,onClose:t})=>{const o=b(c=>c.players),s=b(c=>c.updatePlayer),n=b(c=>c.teams),[i,d]=m.useState([]);m.useEffect(()=>{e&&d([...o])},[e,o]);const u=m.useCallback((c,l,a)=>{d(x=>x.map(p=>p.id===c?{...p,[l]:l==="number"?parseInt(a)||1:a}:p))},[]),f=m.useCallback(()=>{i.forEach(c=>{const l=o.find(a=>a.id===c.id);l&&(l.name!==c.name||l.number!==c.number||l.color!==c.color)&&s(c.id,{name:c.name,number:c.number,color:c.color,team:c.team,position:c.position})}),t()},[i,o,s,t]);return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[2000] p-4 backdrop-blur-sm",onClick:t,children:r.jsxs("div",{className:`bg-white rounded-xl p-4 sm:p-6 lg:p-8 
                   w-full max-w-md sm:max-w-3xl lg:max-w-5xl max-h-[90vh] overflow-y-auto text-gray-900 
                   relative shadow-2xl mx-auto border border-gray-200`,style:{backgroundColor:"#ffffff",opacity:1},onClick:c=>c.stopPropagation(),children:[r.jsx("button",{onClick:t,className:`absolute top-4 right-4 bg-transparent border-none text-gray-500 
                     text-2xl cursor-pointer w-8 h-8 rounded-full flex items-center justify-center
                     hover:text-gray-700 hover:bg-gray-100 transition-all duration-200`,children:"×"}),r.jsx("h2",{className:"mb-6 sm:mb-8 text-center text-gray-900 text-xl sm:text-2xl lg:text-3xl font-bold tracking-tight",children:"Edit Roster"}),r.jsx("div",{className:"overflow-x-auto -mx-2 sm:mx-0",children:r.jsxs("table",{className:"w-full border-collapse text-sm bg-gray-50 rounded-lg overflow-hidden min-w-[500px]",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b-2 border-gray-200 bg-gray-100",children:[r.jsx("th",{className:"px-2 sm:px-3 py-4 text-left text-gray-700 font-bold text-xs tracking-wider w-16",children:"Team"}),r.jsx("th",{className:"px-2 sm:px-3 py-4 text-left text-gray-700 font-bold text-xs tracking-wider",children:"Name"}),r.jsx("th",{className:"px-2 sm:px-3 py-4 text-left text-gray-700 font-bold text-xs tracking-wider w-12",children:"#"}),r.jsx("th",{className:"px-2 sm:px-3 py-4 text-left text-gray-700 font-bold text-xs tracking-wider w-16",children:"Color"})]})}),r.jsx("tbody",{children:i.map((c,l)=>r.jsxs("tr",{className:`border-b border-gray-200 transition-colors duration-200 hover:bg-gray-100 ${l%2===0?"bg-white":"bg-gray-50"}`,children:[r.jsx("td",{className:"px-2 sm:px-3 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:n[c.team].kitColor}}),r.jsx("span",{className:"font-bold text-xs sm:text-sm text-gray-700",children:n[c.team].name})]})}),r.jsx("td",{className:"px-2 sm:px-3 py-3",children:r.jsx("input",{type:"text",value:c.name,onChange:a=>u(c.id,"name",a.target.value),className:`w-full px-2 sm:px-3 py-2 bg-white text-gray-800 border border-gray-300 
                                rounded-md text-xs sm:text-sm transition-all duration-200 outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50`})}),r.jsx("td",{className:"px-2 sm:px-3 py-3",children:r.jsx("input",{type:"number",min:"1",max:"99",value:c.number,onChange:a=>u(c.id,"number",a.target.value),className:`w-12 sm:w-16 px-2 sm:px-3 py-2 bg-white text-gray-800 border border-gray-300 
                                rounded-md text-xs sm:text-sm transition-all duration-200 outline-none text-center focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50`})}),r.jsx("td",{className:"px-2 sm:px-3 py-3",children:r.jsx("input",{type:"color",value:c.color,onChange:a=>u(c.id,"color",a.target.value),className:`w-10 sm:w-12 h-8 sm:h-9 border-2 border-gray-300 rounded-md cursor-pointer 
                                transition-all duration-200 hover:border-gray-400`})})]},c.id))})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mt-6 sm:mt-8",children:[r.jsx("button",{onClick:t,className:`px-6 py-3 bg-gray-500 hover:bg-gray-600 border-none text-white rounded-md cursor-pointer 
                       font-bold text-sm transition-colors duration-200`,children:"Cancel"}),r.jsx("button",{onClick:f,className:`px-6 py-3 bg-blue-600 hover:bg-blue-700 border-none text-white rounded-md cursor-pointer 
                       font-bold text-sm transition-colors duration-200`,children:"Save Changes"})]})]})}):null});Ee.displayName="RosterModal";const St=()=>{const e=b(l=>l.players),t=b(l=>l.ball),o=b(l=>l.resetFormations),s=b(l=>l.updatePlayerPosition),n=b(l=>l.updatePlayer),i=b(l=>l.updateBallPosition),d=m.useCallback(l=>{const a={version:"1.0.0",timestamp:new Date().toISOString(),players:e,ball:t,metadata:{description:l||"Football Tactics Board Save"}},x=JSON.stringify(a,null,2),p=new Blob([x],{type:"application/json"}),y=document.createElement("a");y.href=URL.createObjectURL(p),y.download=`tactics-${new Date().toISOString().split("T")[0]}.json`,y.click(),URL.revokeObjectURL(y.href)},[e,t]),u=m.useCallback(()=>new Promise((l,a)=>{const x=document.createElement("input");x.type="file",x.accept=".json",x.onchange=p=>{var g;const y=(g=p.target.files)==null?void 0:g[0];if(!y){a(new Error("No file selected"));return}const v=new FileReader;v.onload=h=>{var S;try{const _=JSON.parse((S=h.target)==null?void 0:S.result);if(!_.players||!_.ball)throw new Error("Invalid save file format");o(),_.players.forEach(w=>{n(w.id,{name:w.name,number:w.number,color:w.color,team:w.team,position:w.position}),s(w.id,w.position)}),i(_.ball.position),l()}catch(_){a(new Error("Failed to parse save file: "+_.message))}},v.onerror=()=>a(new Error("Failed to read file")),v.readAsText(y)},x.click()}),[o,n,s,i]),f=m.useCallback(async l=>{const a={version:"1.0.0",timestamp:new Date().toISOString(),players:e,ball:t,metadata:{description:l||"Football Tactics Board Save"}};try{return await navigator.clipboard.writeText(JSON.stringify(a,null,2)),!0}catch(x){return console.error("Failed to copy to clipboard:",x),!1}},[e,t]),c=m.useCallback(async()=>{try{const l=await navigator.clipboard.readText(),a=JSON.parse(l);if(!a.players||!a.ball)throw new Error("Invalid save data format");return o(),a.players.forEach(x=>{n(x.id,{name:x.name,number:x.number,color:x.color,team:x.team,position:x.position}),s(x.id,x.position)}),i(a.ball.position),!0}catch(l){return console.error("Failed to import from clipboard:",l),!1}},[o,n,s,i]);return{saveToFile:d,loadFromFile:u,exportToClipboard:f,importFromClipboard:c}},se=m.memo(({isOpen:e,onClose:t,mode:o})=>{const{saveToFile:s,loadFromFile:n,exportToClipboard:i,importFromClipboard:d}=St(),[u,f]=m.useState(""),[c,l]=m.useState(!1),[a,x]=m.useState("");m.useEffect(()=>{e&&(f(""),x(""),l(!1))},[e]);const p=async()=>{try{l(!0),s(u||"Football Tactics Board Save"),x("Tactics saved successfully!"),setTimeout(()=>t(),1500)}catch{x("Failed to save tactics")}finally{l(!1)}},y=async()=>{try{l(!0),await n(),x("Tactics loaded successfully!"),setTimeout(()=>t(),1500)}catch(h){x("Failed to load tactics: "+h.message)}finally{l(!1)}},v=async()=>{try{l(!0);const h=await i(u||"Football Tactics Board Save");x(h?"Tactics copied to clipboard!":"Failed to copy to clipboard")}catch{x("Failed to copy to clipboard")}finally{l(!1)}},g=async()=>{try{l(!0),await d()?(x("Tactics loaded from clipboard!"),setTimeout(()=>t(),1500)):x("Failed to load from clipboard")}catch{x("Failed to load from clipboard")}finally{l(!1)}};return e?r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,backdropFilter:"blur(5px)"},onClick:t,children:r.jsxs("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",padding:"30px",maxWidth:"500px",width:"90%",color:"#ffffff",position:"relative"},onClick:h=>h.stopPropagation(),children:[r.jsx("button",{onClick:t,style:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",color:"rgba(255, 255, 255, 0.8)",fontSize:"24px",cursor:"pointer",width:"30px",height:"30px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:"×"}),r.jsx("h2",{style:{marginBottom:"20px",textAlign:"center",color:"#ffffff",fontSize:"24px",fontWeight:"bold"},children:o==="save"?"Save Tactics":"Load Tactics"}),o==="save"&&r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#ffffff",fontSize:"14px"},children:"Description (optional):"}),r.jsx("input",{type:"text",value:u,onChange:h=>f(h.target.value),placeholder:"e.g., 4-4-2 attacking formation",style:{width:"100%",padding:"10px",backgroundColor:"#ffffff",color:"#333333",border:"none",borderRadius:"4px",fontSize:"14px"}})]}),a&&r.jsx("div",{style:{padding:"10px",marginBottom:"20px",backgroundColor:a.includes("Failed")?"rgba(255, 107, 107, 0.2)":"rgba(76, 175, 80, 0.2)",border:`1px solid ${a.includes("Failed")?"#ff6b6b":"#4caf50"}`,borderRadius:"4px",color:a.includes("Failed")?"#ff6b6b":"#4caf50",fontSize:"14px",textAlign:"center"},children:a}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:o==="save"?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:p,disabled:c,style:{padding:"12px 20px",backgroundColor:"#00bcd4",border:"none",color:"#ffffff",borderRadius:"4px",cursor:c?"not-allowed":"pointer",fontWeight:"bold",fontSize:"14px",opacity:c?.6:1},children:c?"Saving...":"💾 Save to File"}),r.jsx("button",{onClick:v,disabled:c,style:{padding:"12px 20px",backgroundColor:"transparent",border:"2px solid #00bcd4",color:"#00bcd4",borderRadius:"4px",cursor:c?"not-allowed":"pointer",fontWeight:"bold",fontSize:"14px",opacity:c?.6:1},children:c?"Copying...":"📋 Copy to Clipboard"})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:y,disabled:c,style:{padding:"12px 20px",backgroundColor:"#00bcd4",border:"none",color:"#ffffff",borderRadius:"4px",cursor:c?"not-allowed":"pointer",fontWeight:"bold",fontSize:"14px",opacity:c?.6:1},children:c?"Loading...":"📁 Load from File"}),r.jsx("button",{onClick:g,disabled:c,style:{padding:"12px 20px",backgroundColor:"transparent",border:"2px solid #00bcd4",color:"#00bcd4",borderRadius:"4px",cursor:c?"not-allowed":"pointer",fontWeight:"bold",fontSize:"14px",opacity:c?.6:1},children:c?"Pasting...":"📋 Paste from Clipboard"})]})}),r.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:r.jsx("button",{onClick:t,style:{padding:"10px 20px",backgroundColor:"#666666",border:"none",color:"#ffffff",borderRadius:"4px",cursor:"pointer",fontWeight:"bold",fontSize:"14px"},children:"Close"})})]})}):null});se.displayName="SaveLoadModal";const Be=m.memo(({isOpen:e,onClose:t,teams:o,updateTeamInfo:s})=>{const[n,i]=m.useState(o);m.useEffect(()=>{i(o)},[o]);const d=m.useCallback((l,a,x)=>{i(p=>({...p,[l]:{...p[l],[a]:x}}))},[]),u=m.useCallback(()=>{s("team1",n.team1),s("team2",n.team2),t()},[n,s,t]),f=m.useCallback(()=>{i(o),t()},[o,t]),c=["#dc2626","#2563eb","#16a34a","#ca8a04","#9333ea","#ea580c","#0891b2","#be185d","#374151","#000000","#ffffff"];return e?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",style:{backgroundColor:"#ffffff",opacity:1},children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Team Customization"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:n.team1.kitColor}}),"Team 1"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Name"}),r.jsx("input",{type:"text",value:n.team1.name,onChange:l=>d("team1","name",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Team 1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kit Color"}),r.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:c.map(l=>r.jsx("button",{onClick:()=>d("team1","kitColor",l),className:`w-8 h-8 rounded border-2 ${n.team1.kitColor===l?"border-gray-900":"border-gray-300"}`,style:{backgroundColor:l}},l))}),r.jsx("input",{type:"color",value:n.team1.kitColor,onChange:l=>d("team1","kitColor",l.target.value),className:"w-full h-10 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GK Kit Color"}),r.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:c.map(l=>r.jsx("button",{onClick:()=>d("team1","gkKitColor",l),className:`w-8 h-8 rounded border-2 ${n.team1.gkKitColor===l?"border-gray-900":"border-gray-300"}`,style:{backgroundColor:l}},l))}),r.jsx("input",{type:"color",value:n.team1.gkKitColor,onChange:l=>d("team1","gkKitColor",l.target.value),className:"w-full h-10 border border-gray-300 rounded-md"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:n.team2.kitColor}}),"Team 2"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Name"}),r.jsx("input",{type:"text",value:n.team2.name,onChange:l=>d("team2","name",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Team 2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kit Color"}),r.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:c.map(l=>r.jsx("button",{onClick:()=>d("team2","kitColor",l),className:`w-8 h-8 rounded border-2 ${n.team2.kitColor===l?"border-gray-900":"border-gray-300"}`,style:{backgroundColor:l}},l))}),r.jsx("input",{type:"color",value:n.team2.kitColor,onChange:l=>d("team2","kitColor",l.target.value),className:"w-full h-10 border border-gray-300 rounded-md"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GK Kit Color"}),r.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:c.map(l=>r.jsx("button",{onClick:()=>d("team2","gkKitColor",l),className:`w-8 h-8 rounded border-2 ${n.team2.gkKitColor===l?"border-gray-900":"border-gray-300"}`,style:{backgroundColor:l}},l))}),r.jsx("input",{type:"color",value:n.team2.gkKitColor,onChange:l=>d("team2","gkKitColor",l.target.value),className:"w-full h-10 border border-gray-300 rounded-md"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t border-gray-200",children:[r.jsx("button",{onClick:f,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),r.jsx("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save Changes"})]})]})})}):null});Be.displayName="TeamCustomizationModal";const De=m.memo(()=>{const[e,t]=m.useState(!1),[o,s]=m.useState(!1),[n,i]=m.useState(!1),[d,u]=m.useState(!1),[f,c]=m.useState(!1),{clearAll:l,switchSides:a,resetFormations:x,teams:p,updateTeamInfo:y}=b(),v=m.useRef(null);m.useEffect(()=>{const h=S=>{v.current&&!v.current.contains(S.target)&&t(!1)};if(e)return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[e]);const g=m.useCallback(h=>{h(),t(!1)},[]);return r.jsxs("div",{className:"relative min-w-fit",ref:v,children:[r.jsx("button",{onClick:()=>t(!e),className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium transition-colors",title:"Settings Menu",children:r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),r.jsx("span",{className:"text-xs",children:"Settings"})]})}),e&&r.jsxs("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[r.jsxs(P,{onClick:()=>g(()=>s(!0)),children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Manage Roster"]}),r.jsxs(P,{onClick:()=>g(()=>c(!0)),children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"Team Settings"]}),r.jsx("div",{className:"border-t border-gray-100 my-1"}),r.jsxs(P,{onClick:()=>g(()=>i(!0)),children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Save Setup"]}),r.jsxs(P,{onClick:()=>g(()=>u(!0)),children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Load Setup"]}),r.jsx("div",{className:"border-t border-gray-100 my-1"}),r.jsxs(P,{onClick:()=>g(a),children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Switch Sides"]}),r.jsxs(P,{onClick:()=>g(x),children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reset Formations"]}),r.jsx("div",{className:"border-t border-gray-100 my-1"}),r.jsxs(P,{onClick:()=>g(()=>{confirm("This will clear all players and reset the board. Continue?")&&l()}),className:"text-red-600 hover:bg-red-50",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear All"]})]}),r.jsx(Ee,{isOpen:o,onClose:()=>s(!1)}),r.jsx(se,{isOpen:n,onClose:()=>i(!1),mode:"save"}),r.jsx(se,{isOpen:d,onClose:()=>u(!1),mode:"load"}),r.jsx(Be,{isOpen:f,onClose:()=>c(!1),teams:p,updateTeamInfo:y})]})}),P=m.memo(({children:e,onClick:t,className:o=""})=>r.jsx("button",{onClick:t,className:`w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-3 transition-colors ${o}`,children:e}));P.displayName="MenuButton";De.displayName="SettingsMenu";const Le=m.memo(({player:e,onClose:t})=>{const o=b(a=>a.updatePlayer),[s,n]=m.useState(""),[i,d]=m.useState(1),[u,f]=m.useState("#ff4444");m.useEffect(()=>{e&&(n(e.name),d(e.number),f(e.color.includes("rgba")?e.team==="team1"?"#ff4444":"#4444ff":e.color))},[e]);const c=m.useCallback(()=>{e&&o(e.id,{name:s,number:i,color:u,team:e.team,position:e.position}),t()},[e,s,i,u,o,t]),l=m.useCallback(a=>{a.key==="Enter"?c():a.key==="Escape"&&t()},[c,t]);return e?r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,backdropFilter:"blur(5px)"},onClick:t,onKeyDown:l,tabIndex:0,children:r.jsxs("div",{style:{backgroundColor:"rgba(26, 32, 44, 0.95)",border:"1px solid rgba(74, 85, 104, 0.4)",borderRadius:"8px",padding:"30px",minWidth:"400px",color:"#e2e8f0",position:"relative",backdropFilter:"blur(12px)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.4)"},onClick:a=>a.stopPropagation(),children:[r.jsx("button",{onClick:t,style:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",color:"rgba(226, 232, 240, 0.8)",fontSize:"24px",cursor:"pointer",width:"30px",height:"30px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(74, 85, 104, 0.3)",a.currentTarget.style.color="#e2e8f0"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="transparent",a.currentTarget.style.color="rgba(226, 232, 240, 0.8)"},children:"×"}),r.jsx("h2",{style:{marginBottom:"25px",textAlign:"center",color:"#e2e8f0",fontSize:"20px",fontWeight:"600",fontFamily:'ui-monospace, Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace',textTransform:"uppercase",letterSpacing:"0.1em"},children:"Edit Player"}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"25px"},children:[r.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:u,border:"2px solid #ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold",color:"#ffffff",textShadow:"0 1px 2px rgba(0,0,0,0.5)"},children:i}),r.jsx("div",{children:r.jsxs("div",{style:{color:e.team==="team1"?"#f87171":"#60a5fa",fontWeight:"600",textTransform:"uppercase",fontSize:"12px",letterSpacing:"0.05em",fontFamily:'ui-monospace, Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace'},children:[e.team," Team"]})})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[r.jsxs("div",{children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#cbd5e0",fontSize:"13px",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.05em",fontFamily:'ui-monospace, Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace'},children:"Player Name"}),r.jsx("input",{type:"text",value:s,onChange:a=>n(a.target.value),autoFocus:!0,style:{width:"100%",padding:"12px 16px",backgroundColor:"rgba(45, 55, 72, 0.6)",color:"#e2e8f0",border:"1px solid rgba(74, 85, 104, 0.4)",borderRadius:"6px",fontSize:"14px",fontWeight:"500",outline:"none",transition:"all 0.2s ease",backdropFilter:"blur(8px)"},onFocus:a=>{a.target.style.borderColor=e.team==="team1"?"#f87171":"#60a5fa",a.target.style.boxShadow=`0 0 0 2px ${e.team==="team1"?"#f87171":"#60a5fa"}20`},onBlur:a=>{a.target.style.borderColor="rgba(74, 85, 104, 0.4)",a.target.style.boxShadow="none"}})]}),r.jsxs("div",{style:{display:"flex",gap:"15px"},children:[r.jsxs("div",{style:{flex:1},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#cbd5e0",fontSize:"13px",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.05em",fontFamily:'ui-monospace, Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace'},children:"Jersey Number"}),r.jsx("input",{type:"number",min:"1",max:"99",value:i,onChange:a=>d(parseInt(a.target.value)||1),style:{width:"100%",padding:"12px 16px",backgroundColor:"rgba(45, 55, 72, 0.6)",color:"#e2e8f0",border:"1px solid rgba(74, 85, 104, 0.4)",borderRadius:"6px",fontSize:"14px",fontWeight:"500",outline:"none",transition:"all 0.2s ease",backdropFilter:"blur(8px)"},onFocus:a=>{a.target.style.borderColor=e.team==="team1"?"#f87171":"#60a5fa",a.target.style.boxShadow=`0 0 0 2px ${e.team==="team1"?"#f87171":"#60a5fa"}20`},onBlur:a=>{a.target.style.borderColor="rgba(74, 85, 104, 0.4)",a.target.style.boxShadow="none"}})]}),r.jsxs("div",{style:{flex:1},children:[r.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#cbd5e0",fontSize:"13px",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.05em",fontFamily:'ui-monospace, Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace'},children:"Jersey Color"}),r.jsx("input",{type:"color",value:u,onChange:a=>f(a.target.value),style:{width:"100%",height:"46px",border:"1px solid rgba(74, 85, 104, 0.4)",borderRadius:"6px",cursor:"pointer",backgroundColor:"transparent",outline:"none",transition:"all 0.2s ease"},onFocus:a=>{a.target.style.borderColor=e.team==="team1"?"#f87171":"#60a5fa",a.target.style.boxShadow=`0 0 0 2px ${e.team==="team1"?"#f87171":"#60a5fa"}20`},onBlur:a=>{a.target.style.borderColor="rgba(74, 85, 104, 0.4)",a.target.style.boxShadow="none"}})]})]})]}),r.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"30px",justifyContent:"flex-end"},children:[r.jsx("button",{onClick:t,style:{padding:"12px 20px",backgroundColor:"rgba(74, 85, 104, 0.6)",border:"1px solid rgba(74, 85, 104, 0.4)",color:"#a0aec0",borderRadius:"6px",cursor:"pointer",fontWeight:"500",fontSize:"13px",fontFamily:'ui-monospace, Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace',textTransform:"uppercase",letterSpacing:"0.025em",transition:"all 0.2s ease",backdropFilter:"blur(8px)"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(74, 85, 104, 0.8)",a.currentTarget.style.color="#e2e8f0"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(74, 85, 104, 0.6)",a.currentTarget.style.color="#a0aec0"},children:"Cancel"}),r.jsx("button",{onClick:c,style:{padding:"12px 20px",backgroundColor:e.team==="team1"?"rgba(248, 113, 113, 0.8)":"rgba(96, 165, 250, 0.8)",border:`1px solid ${e.team==="team1"?"rgba(248, 113, 113, 0.4)":"rgba(96, 165, 250, 0.4)"}`,color:"#ffffff",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"13px",fontFamily:'ui-monospace, Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace',textTransform:"uppercase",letterSpacing:"0.025em",transition:"all 0.2s ease",backdropFilter:"blur(8px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor=e.team==="team1"?"rgba(248, 113, 113, 1)":"rgba(96, 165, 250, 1)"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor=e.team==="team1"?"rgba(248, 113, 113, 0.8)":"rgba(96, 165, 250, 0.8)"},children:"Save Changes"})]})]})}):null});Le.displayName="PlayerEditModal";function _t(){const e=b(o=>o.selectedPlayer),t=b(o=>o.selectPlayer);return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:r.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Football Board"}),r.jsx(Re,{}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Oe,{}),r.jsx(De,{})]})]})})}),r.jsx("main",{className:"flex-1 p-4 sm:p-6 w-full",children:r.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[r.jsx(Nt,{children:r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Me,{})})})}),r.jsx(Le,{player:e,onClose:()=>t(null)})]})}),r.jsx(Ie,{})]})}Y.createRoot(document.getElementById("root")).render(r.jsx(m.StrictMode,{children:r.jsx(_t,{})}));
